
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Waypoints in directions</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        #map {
            height: 100%;
            float: left;
            width: 70%;
            height: 100%;
        }

        #right-panel {
            font-family: 'Roboto','sans-serif';
            line-height: 30px;
            padding-left: 10px;
        }

            #right-panel select, #right-panel input {
                font-size: 15px;
            }

            #right-panel select {
                width: 100%;
            }

            #right-panel i {
                font-size: 12px;
            }

        #right-panel {
            margin: 20px;
            border-width: 2px;
            width: 20%;
            float: left;
            text-align: left;
            padding-top: 20px;
        }

        #directions-panel {
            margin-top: 20px;
            background-color: #FFEE77;
            padding: 10px;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div id="right-panel">
        <div>
            <b>Start:</b>
            <select id="start">
                <option value="新北市選手村">新北市選手村</option>
                
            </select>
			
			<b>End:</b>
            <select id="end">
                <option value="桃園體育大學">桃園體育大學</option>
				<option value="桃園市立田徑大學">桃園市立田徑大學</option>
				<option value="大同高中">大同高中</option>
				<option value="中正高中">中正高中</option>
				<option value="臺北田徑場">臺北田徑場</option>
				<option value="臺北體育館">臺北體育館</option>
				<option value="台北市立大學天母校區">台北市立大學天母校區</option>
				<option value="南港展覽館">南港展覽館</option>
				<option value="揚昇高爾夫">揚昇高爾夫</option>
				<option value="新竹縣立體育館">新竹縣立體育館</option>
				<option value="中央警察大學">中央警察大學</option>
				<option value="迎風河濱公園">迎風河濱公園</option>
				<option value="微風運河">微風運河</option>
				<option value="桃園市立游泳池">桃園市立游泳池</option>
				<option value="新莊體育館">新莊體育館</option>
				<option value="桃園巨蛋體育館">桃園巨蛋體育館</option>
				<option value="台北市網球中心">台北市網球中心</option>
				<option value="彩虹河濱公園">彩虹河濱公園</option>
				<option value="政治大學">政治大學</option>
				<option value="文化大學">文化大學</option>
				<option value="大同大學">大同大學</option>
				<option value="新竹縣體育場">新竹縣體育場</option>
				<option value="小巨蛋">小巨蛋</option>
				<option value="台北市立大學">台北市立大學</option>
				<option value="錦和運動公園">錦和運動公園</option>
				<option value="輔仁大學">輔仁大學</option>
				<option value="長庚科技大學">長庚科技大學</option>
				<option value="銘傳大學">銘傳大學</option>
				<option value="台大竹北校區">台大竹北校區</option>
				<option value="師範大學">師範大學</option>
				<option value="台灣大學">台灣大學</option>
				<option value="內湖高工">內湖高工</option>
				<option value="南湖高中">南湖高中</option>
				<option value="陸軍專校">陸軍專校</option>
				<option value="清華大學">清華大學</option>
				<option value="明志科大">明志科大</option>
				<option value="天母棒球場">天母棒球場</option>
				<option value="新生棒球場">新生棒球場</option>
				<option value="松山高中">松山高中</option>
				<option value="板樹體育館">板樹體育館</option>
				<option value="新竹市立體育館">新竹市立體育館</option>
				<option value="醒吾大學">醒吾大學</option>
				<option value="成功高中">成功高中</option>
				<option value="北投機廠">北投機廠</option>
				<option value="淡江大學">淡江大學</option>
                
            </select>
            <br>
            <input type="submit" id="submit">
			<p id="demo"></p>
        </div>
        <div id="directions-panel"></div>
		<div id="time"></div>
    </div>
    <script>
        function initMap() {
            var directionsService = new google.maps.DirectionsService;
            var directionsDisplay = new google.maps.DirectionsRenderer;
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 12,
                center: { lat: 25.057363, lng: 121.522705 }
            });


            directionsDisplay.setMap(map);

            document.getElementById('submit').addEventListener('click', function () {
            calculateAndDisplayRoute(directionsService, directionsDisplay);
            });
        }

        function calculateAndDisplayRoute(directionsService, directionsDisplay) {
            
			var startPoint=document.getElementById('start').value;
			var endPoint=document.getElementById('end').value;
			switch(startPoint){
				case '新北市選手村':
					var start = { lat:  25.076197 , lng: 121.379436 };
					break;
			}
			
			switch(endPoint){
				case '桃園體育大學':
					var end = { lat: 25.034881 , lng: 121.383637 };
					var wypts = [{ lat: 25.074707  , lng: 121.372095},{ lat: 25.064459  , lng: 121.367064},{ lat: 25.036118  , lng: 121.385145}];
					break;
				case '桃園市立田徑大學':
					var end = { lat: 24.995450 , lng: 121.323578 };
					var wypts = [{ lat: 25.080206  , lng: 121.370077}];
					break;	
				case '大同高中':
					var end = { lat: 25.054827 , lng: 121.535066 };
					var wypts = [{ lat: 25.079668 , lng: 121.367744}];
					break;		
				case '中正高中':
					var end = { lat: 25.104314 , lng: 121.516949 };
					var wypts = [{ lat: 25.079198 , lng: 121.367187}];
					break;
				case '臺北田徑場':
					var end = { lat: 25.051653 , lng: 121.549574 };
					var wypts = [{ lat: 25.076946 , lng: 121.365002}];
					break;	
				case '臺北體育館':
					var end = { lat: 25.051653 , lng: 121.549574 };
					var wypts = [{ lat: 25.076962 , lng: 121.364995}];
					break;
				case '台北市立大學天母校區':
					var end = { lat: 25.11639 , lng: 121.534146 };
					var wypts = [{ lat: 25.079341 , lng: 121.367360},{ lat: 25.092622 , lng: 121.518985},{ lat: 25.095732 , lng: 121.527943},{ lat: 25.095750 , lng: 121.527935},{ lat: 25.107938 , lng: 121.530322},{ lat: 25.115331 , lng: 121.539125}];
					break;	
				case '南港展覽館':
					var end = { lat: 25.056097 , lng: 121.617555 };
					var wypts = [{ lat: 25.080642 , lng: 121.368827},{ lat: 25.060288 , lng: 121.617234}];
					break;
				case '揚昇高爾夫':
					var end = { lat: 24.880622 , lng: 121.157246 };
					var wypts = [{ lat: 25.079034 , lng: 121.367041}];
					break;	
				case '新竹縣立體育館':
					var end = { lat: 24.821184 , lng: 121.018852 };
					var wypts = [{ lat: 25.079102 , lng: 121.367106},{ lat: 24.796955 , lng: 121.188157},{ lat: 24.781387 , lng: 121.068990}];
					break;	
				case '中央警察大學':
					var end = { lat: 25.047606 , lng: 121.351234 };
					var wypts = [{ lat: 25.045932 , lng: 121.356038}];
					break;
				case '迎風河濱公園':
					var end = { lat: 25.073273 , lng: 121.552323 };
					var wypts = [{ lat: 25.076726 , lng: 121.364772},{ lat: 25.072217 , lng: 121.543839},{ lat: 25.072178 , lng: 121.555593},{ lat: 25.071994 , lng: 121.557572}];
					break;
				case '微風運河':
					var end = { lat:  25.099003 , lng: 121.454492 };
					var wypts = [{ lat: 25.079796 , lng: 121.367915},{ lat: 25.088237 , lng: 121.444760}];
					break;
				case '桃園市立游泳池':
					var end = { lat: 24.989558 , lng: 121.292213 };
					var wypts = [{ lat: 25.079037 , lng: 121.367035}];
					break;
				case '新莊體育館':
					var end = { lat: 25.041989 , lng: 121.446619 };
					var wypts = [{ lat: 25.080360 , lng: 121.368507}];
					break;
				case '桃園巨蛋體育館':
					var end = { lat: 24.995480 , lng: 121.323558 };
					var wypts = [{ lat: 25.080926 , lng: 121.369102}];
					break;
				case '台北市網球中心':
					var end = { lat: 25.066709 , lng: 121.597623 };
					var wypts = [{ lat: 25.080666 , lng: 121.368844},{ lat: 25.069218 , lng:121.574225}];
					break;
				case '彩虹河濱公園':
					var end = { lat: 25.060575 , lng: 121.572835 };
					var wypts = [{ lat: 25.069360 , lng: 121.572859}];
					break;
				case '政治大學':
					var end = { lat: 24.987321 , lng: 121.576134 };
					var wypts = [{ lat: 25.080836 , lng: 121.369010}];
					break;
				case '文化大學':
					var end = { lat:  25.134709 , lng: 121.540055 };
					var wypts = [{ lat: 25.080644 , lng: 121.368826},{ lat: 25.075170 , lng: 121.520177},{ lat: 25.104026 , lng: 121.524934}];
					break;
				case '大同大學':
					var end = { lat: 25.068623 , lng: 121.520637 };
					var wypts = [{ lat: 25.080746 , lng: 121.368932}];
					break;	
				case '新竹縣體育場':
					var end = { lat: 24.821184 , lng: 121.018852 };
					var wypts = [{ lat: 25.079995 , lng: 121.368147},{ lat: 24.822688 , lng: 121.019510}];
					break;
				case '小巨蛋':
					var end = { lat: 25.051653 , lng: 121.549572 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010}];
					break;
				case '台北市立大學':
					var end = { lat:  25.116408 , lng: 121.534145 };
					var wypts = [{ lat: 25.075277 , lng: 121.363119},{ lat: 25.095719 , lng: 121.527934},{ lat: 25.095787 , lng: 121.527922}];
					break;
				case '錦和運動公園':
					var end = { lat: 24.992603 , lng: 121.490299 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010}];
					break;
				case '輔仁大學':
					var end = { lat:  25.037956 , lng: 121.433309 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010},{ lat: 25.034904 , lng: 121.438504}];
					break;
				case '長庚科技大學':
					var end = { lat: 25.033434 , lng: 121.387867 };
					var wypts = [{ lat: 25.073391 , lng: 121.370490},{ lat: 25.064484 , lng: 121.367810},{ lat: 25.036030 , lng: 121.385205}];
					break;
				case '銘傳大學':
					var end = { lat: 24.985163 , lng: 121.344261 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010},{ lat: 25.000869 , lng: 121.342493}];
					break;
				case '台大竹北校區':
					var end = { lat: 24.825315 , lng: 121.019699 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010}];
					break;
				case '師範大學':
					var end = { lat: 25.026588 , lng: 121.527579 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010},{ lat: 25.020470, lng: 121.528554},{lat: 25.026989, lng:121.522926}];
					break;
				case '台灣大學':
					var end = { lat: 25.022249, lng: 121.535250 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010},{lat: 25.018997, lng:121.528371}];
					break;
				case '內湖高工':
					var end = { lat: 25.079652 , lng: 121.575455 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010}];
					break;
				case '南湖高中':
					var end = { lat: 25.066470 , lng: 121.610506 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010},{ lat: 25.068825 , lng: 121.612169},{ lat: 25.069560 , lng: 121.618124}];
					break;
				case '陸軍專校':
					var end = { lat: 24.939316 , lng: 121.259875 };
					var wypts = [{ lat: 24.972158 , lng: 121.236064}];
					break;
				case '清華大學':
					var end = { lat: 24.798022 , lng: 120.990908 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010}];
					break;
				case '明志科大':
					var end = { lat: 25.040755 , lng: 121.422150 };
					var wypts = [{ lat: 25.068870 , lng: 121.372094},{ lat: 25.040055 , lng: 121.424850}];
					break;
				case '天母棒球場':
					var end = { lat: 25.115467 , lng: 121.533694 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010}];
					break;
				case '新生棒球場':
					var end = { lat: 25.069483 , lng: 121.528054 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010},{ lat: 25.072781 , lng: 121.542077}];
					break;
				case '松山高中':
					var end = { lat: 25.043730 , lng: 121.565669 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010}];
					break;
				case '板樹體育館':
					var end = { lat: 24.981223 , lng: 121.427579 };
					var wypts = [{ lat: 25.064908 , lng: 121.370043}];
					break;
				case '新竹市立體育館':
					var end = { lat: 24.799467 , lng: 120.977219 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010}];
					break;
				case '醒吾大學':
					var end = { lat: 25.081094 , lng: 121.396633 };
					var wypts = [{ lat: 25.079734 , lng: 121.384915}];
					break;
				case '成功高中':
					var end = { lat: 25.042357 , lng: 121.523619 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010},{ lat: 25.038746 , lng: 121.522675}];
					break;
				case '北投機廠':
					var end = { lat: 25.134171 , lng: 121.483600 };
					var wypts = [{ lat: 25.076953 , lng: 121.365010}];
					break;
				case '淡江大學':
					var end = { lat: 25.173559 , lng: 121.447330 };
					var wypts = [];
					//var wypts = [{ lat: 25.076953 , lng: 121.365010}];
					break;
			}
				
				
            
			
			// wypts.push({ lat: 25.070725, lng: 121.438612 });
			// wypts.push({ lat: 25.075034, lng: 121.437130 });
			// wypts.push({ lat: 25.082738, lng: 121.441021 });
			// wypts.push({ lat: 25.088305, lng: 121.444870 });
			
            
            var waypts = [];
			var end;
			if(wypts.length==0){
				waypts.push({
					location: end,
					stopover: false
				});
			}else{
				for (var i = 0; i < wypts.length; i++) {					
						waypts.push({
							location: wypts[i],
							stopover: false
						});
				}
			}
            

            directionsService.route({
                origin: start,
                destination: end,
                waypoints: waypts,
                optimizeWaypoints: true,
                drivingOptions: {
                    departureTime: new Date(),
                    trafficModel: google.maps.TrafficModel.BEST_GUESS
                },
                travelMode: google.maps.TravelMode.DRIVING,
                avoidHighways :false,
                avoidTolls: false
            }, function (response, status) {
				 if (status === google.maps.DirectionsStatus.OK) {
                    directionsDisplay.setDirections(response);
                    var route = response.routes[0];
                    var summaryPanel = document.getElementById('directions-panel');
                    summaryPanel.innerHTML = '';
                    // For each route, display summary information.
                    for (var i = 0; i < route.legs.length; i++) {
                        
						summaryPanel.innerHTML += "旅行時間:";
                        summaryPanel.innerHTML += route.legs[i].duration.value ;
						summaryPanel.innerHTML += "(s)"+ '<br>';  
						summaryPanel.innerHTML += "旅行距離:";
                        summaryPanel.innerHTML += route.legs[i].distance.text ;
						summaryPanel.innerHTML += '<br><br>';						
                    }
                    // summaryPanel.innerHTML += "經過路線:" + route.summary + '<br><br>';

                } else {
                    window.alert('Directions request failed due to ' + status);
                }                
            });
        }

    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDNcQzscS3e5IkPgGEYwPd3WTkZIfvfL4k&signed_in=true&callback=initMap"
            async defer></script>
</body>
</html>
